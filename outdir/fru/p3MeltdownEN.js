"use strict";const m="Spell-in-Waiting: Dark Blizzard III",u="Spell-in-Waiting: Dark Fire III",p="Spell-in-Waiting: Unholy Darkness",d="Sinbound Meltdown",g=["Warrior","Paladin","DarkKnight","Gunbreaker","WhiteMage","Scholar","Astrologian","Sage"],o=[17e3,27e3,38e3];let n={};initializePinForFight=t=>{var f,l,s,r;for(const e of t.allEvents)if(e.type==="applydebuff"){const a=e.timestamp,i=(f=e.target)==null?void 0:f.name;if(((l=e.ability)==null?void 0:l.name)===m)g.includes((s=e.target)==null?void 0:s.subType)?n[i]=a+o[1]:n[i]=a+o[0];else if(((r=e.ability)==null?void 0:r.name)===u){const c=e.duration;c===11e3?n[i]=a+o[1]:c===21e3?n[i]=a+o[2]:n[i]=a+o[0]}}};pinMatchesFightEvent=(t,f)=>{var l,s,r;if(t.type==="damage"&&((l=t.ability)==null?void 0:l.name)===d){const e=t.timestamp,a=((s=t.target)==null?void 0:s.name)??"",i=n[a];return!(!i||Math.abs(e-i)<500)}else if(t.type==="applydebuff"&&[m,u,p].includes((r=t.ability)==null?void 0:r.name))return true;return false};
